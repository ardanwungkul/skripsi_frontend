import{k as r,q as u,o as D,x as C,r as m,a as g,b as h,w as s,d as e,e as d,u as y,y as N,z as B,t as E,m as L,R as f}from"./index-3f1fe31d.js";import{_ as M}from"./AdminLayout-b49adfa0.js";import{u as R}from"./user-407e987e.js";import{_ as S}from"./ConfirmDelete-84324153.js";/* empty css                */const j={class:"w-full"},A={class:"relative"},P={class:"bg-light-primary-1 dark:bg-dark-primary-2 p-5 rounded-lg space-y-3 shadow-lg"},$={class:"flex justify-between items-center"},q=e("div",{class:"bg-secondary-3 text-white hover:bg-opacity-90 px-4 py-2 rounded-lg gap-1 flex items-center text-sm cursor-pointer shadow-lg"},[e("i",{class:"fa-solid fa-plus"}),e("p",null,"Add User")],-1),z={class:"grid grid-cols-1 py-2"},F={class:"line-clamp-2"},I={class:"flex gap-3 items-center justify-center text-xs"},O=e("div",{class:"flex gap-2 items-center text-white bg-secondary-2 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer"},[e("i",{class:"fa-solid fa-pen"}),e("p",null,"Edit")],-1),W={__name:"Index",setup(T){const n=R(),c=r([]),_=r(!1),o=r(""),i=r(1),v=r(10),b=[{key:"name",title:"Full Name"},{key:"username",title:"Username"},{key:"email",title:"Email"},{key:"role",title:"Role"},{key:"id",title:"Action",align:"center"}],k=u(()=>c.value.filter(l=>l.name.toLowerCase().includes(o.value))),x=u(()=>Math.ceil(k.value.length/v.value));D(async()=>{await n.getData(),p()});async function p(){c.value=n.users}const w=async l=>{await n.deleteData(l,_)};return C(()=>{p()}),(l,a)=>{const U=m("v-data-table"),V=m("v-pagination");return g(),h(M,{title:"List Of Users"},{default:s(()=>[e("div",j,[e("div",A,[e("div",P,[e("div",$,[d(y(f),{to:{name:"user.create"}},{default:s(()=>[q]),_:1}),N(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search User"},null,512),[[B,o.value]])]),d(U,{page:i.value,"onUpdate:page":a[1]||(a[1]=t=>i.value=t),search:o.value,headers:b,items:c.value,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},{"item.name":s(({item:t})=>[e("div",z,[e("p",F,E(t.name),1)])]),"item.id":s(({item:t})=>[e("div",I,[d(y(f),{to:{name:"user.edit",params:{id:t.id}}},{default:s(()=>[O]),_:2},1032,["to"]),t.role!=="admin"?(g(),h(S,{key:0,type:"User",id:t.id,method:w},null,8,["id"])):L("",!0)])]),_:1},8,["page","search","items"]),d(V,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=t=>i.value=t),length:x.value,"next-icon":"fa-solid fa-chevron-right","prev-icon":"fa-solid fa-chevron-left",class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])])])]),_:1})}}};export{W as default};
