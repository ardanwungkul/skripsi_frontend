import{i as o,j as i}from"./index-3f1fe31d.js";const r=()=>i.get("/sanctum/csrf-cookie"),n=o({id:"package",state:()=>({packages:[],loading:!1,error:null,package:{},create:[],edit:[]}),getters:{allData:a=>a.packages,isLoading:a=>a.loading,getError:a=>a.error},actions:{async getData(){this.loading=!0;try{const a=await i.get("/api/package").then(e=>{this.packages=e.data})}catch(a){this.error=a}finally{this.loading=!1}},async getDataCreate(){this.loading=!0;try{const a=await i.get("/api/package/create").then(e=>{this.create=e.data})}catch(a){this.error=a}finally{this.loading=!1}},async getDataEdit(a){this.loading=!0;try{const e=await i.get(`/api/package/${a}/edit`).then(t=>{this.edit=t.data})}catch(e){this.error=e}finally{this.loading=!1}},async getDataById(a){this.loading=!0;try{const e=await i.get(`/api/package/${a}`);e.status===200?this.package=e.data:this.package={}}catch(e){e.response&&e.response.status===404?this.package={}:this.error=e}finally{this.loading=!1}},async addData(a,e,t){await r(),t.value=!0,i.post("/api/package",a).then(s=>{t.value=!1,this.packages.push(s.data),this.router.push({name:"admin.package.index"}),console.log(s)}).catch(s=>{if(console.log(s),s.response.status!==422)throw s;e.value=Object.values(s.response.data.errors).flat(),t.value=!1})},async editData(a,e,t,s){await r(),t.value=!0,i.post(`/api/package/${s}`,a).then(l=>{this.router.push({name:"admin.package.index"}),t.value=!1}).catch(l=>{if(console.log(l),l.response.status!==422)throw l;e.value=Object.values(l.response.data.errors).flat(),t.value=!1})},async deleteData(a,e){await r(),e.value=!0;try{const t=await i.delete(`/api/package/${a}`);this.packages=this.packages.filter(s=>s.id!==a),e.value=!1}catch(t){this.error=t,console.log(this.error),e.value=!1}finally{e.value=!1}}}});export{n as p};
